<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/favicon.png" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xianzhiding.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
<meta property="og:type" content="website">
<meta property="og:title" content="前端开发 大前端 W3Cbest">
<meta property="og:url" content="https://xianzhiding.github.io/index.html">
<meta property="og:site_name" content="前端开发 大前端 W3Cbest">
<meta property="og:description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Tom">
<meta property="article:tag" content="前端开发,es5,es6,es10,css,javascript,html,flexbox,grid,echarts">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://xianzhiding.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>前端开发 大前端 W3Cbest</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">前端开发 大前端 W3Cbest</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一个专注 WEB 开发的技术博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2021/08/25/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/25/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF/" class="post-title-link" itemprop="url">前端缓存技术</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-25 00:00:00" itemprop="dateCreated datePublished" datetime="2021-08-25T00:00:00+08:00">2021-08-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 09:37:31" itemprop="dateModified" datetime="2021-08-30T09:37:31+08:00">2021-08-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>思路：</p>
<p>1、当页面第一次加载先判断本地储存中有没有旧数据  //储存数据格式{time:Date.now(), data}<br>2、没有旧数据直接发送请求，并将数据储存本地<br>3、有旧数据并且数据没有过期，就使用本地储存的旧数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">init()&#123;</span><br><span class="line">    &lt;!-- 1,获取本地数据 --&gt;</span><br><span class="line">    const getData &#x3D; sessionStorage.getItem(&#39;key&#39;);</span><br><span class="line">    &lt;!-- 2,判断数据是否存在 --&gt;</span><br><span class="line">    if(!getData)&#123;</span><br><span class="line">        this.getData()</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        &lt;!-- 定义过期时间 (如:10s) --&gt;</span><br><span class="line">        if(Date.new() - getData.time &gt; 1000*10)&#123;</span><br><span class="line">            &lt;!-- 如果时间超过过期时间 重新发送请求 --&gt;</span><br><span class="line">            this.getData()</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            &lt;!-- 如果时间未超过过期时间 使用本地储存数据 --&gt;</span><br><span class="line">            this.render(getData.data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">getData()&#123;</span><br><span class="line">    &lt;!-- 没有旧数据直接发送请求 --&gt;</span><br><span class="line">    request(&#39;url&#39;).then(data&#x3D;&gt;&#123;</span><br><span class="line">        &lt;!-- 并将数据储存本地 --&gt;</span><br><span class="line">        sessionStorage.setItem(&#39;key&#39;,&#123;time: Date.new(), data&#125;);</span><br><span class="line">        this.render(data)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">render(data)&#123;</span><br><span class="line">    &lt;!-- 这里是数据展示 --&gt;</span><br><span class="line">    console.log(data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2021/08/25/%E5%B0%81%E8%A3%85Promise%E8%AF%B7%E6%B1%82request/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/25/%E5%B0%81%E8%A3%85Promise%E8%AF%B7%E6%B1%82request/" class="post-title-link" itemprop="url">封装Promise请求</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-25 00:00:00 / 修改时间：15:26:05" itemprop="dateCreated datePublished" datetime="2021-08-25T00:00:00+08:00">2021-08-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>思路：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">let url &#x3D; &#39;http:&#x2F;&#x2F;localhost:8080&#39;;</span><br><span class="line">let requestTotal &#x3D; 0;</span><br><span class="line">const request &#x3D; (params) &#x3D;&gt;&#123;</span><br><span class="line">  requestTotal++;</span><br><span class="line">  wx.showLoading(&#123;</span><br><span class="line">   title: &#39;加载中...&#39;,</span><br><span class="line">   mask: true</span><br><span class="line">  &#125;)</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt;&#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: url + params.url,</span><br><span class="line">      data: params.data || &#123;&#125;,</span><br><span class="line">      method: params.method || &#39;GET&#39;,</span><br><span class="line">      header: &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded;charset&#x3D;UTF-8&#39;&#125;,</span><br><span class="line">      success:(result)&#x3D;&gt;&#123;</span><br><span class="line">        resolve(result.data)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail:(error)&#x3D;&gt;&#123;</span><br><span class="line">        console.log(error);</span><br><span class="line">        reject(error)</span><br><span class="line">      &#125;,</span><br><span class="line">      complete:()&#x3D;&gt;&#123;</span><br><span class="line">        requestTotal--;</span><br><span class="line">        if(requestTotal&#x3D;&#x3D;&#x3D;0)&#123;</span><br><span class="line">         wx.hideLoading()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2021/04/19/color-scheme/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/19/color-scheme/" class="post-title-link" itemprop="url">适配深色模式方案</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-19 09:40:38" itemprop="dateCreated datePublished" datetime="2021-04-19T09:40:38+08:00">2021-04-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-04-20 11:03:47" itemprop="dateModified" datetime="2021-04-20T11:03:47+08:00">2021-04-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-声明-color-scheme"><a href="#1-声明-color-scheme" class="headerlink" title="1.声明 color-scheme"></a>1.声明 color-scheme</h2><p>有两种方式。</p>
<h3 id="1-1-meta"><a href="#1-1-meta" class="headerlink" title="1.1 meta"></a>1.1 meta</h3><p>在head中声明 meta，声明当前页面支持 light 和 dark 两种模式，系统切换到深色模式时，浏览器默认样式也会切换到深色；</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">&quot;color-scheme&quot;</span> content=<span class="string">&quot;light dark&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-CSS"><a href="#1-2-CSS" class="headerlink" title="1.2 CSS"></a>1.2 CSS</h3><p>下面的 css 同样可以实现上面 meta 声明的效果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">    color-scheme: light dark;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意：此声明并非为页面做自动适配，只影响浏览器默认样式</p>
<p>更多信息可查阅：<br>    W3C文档：<a target="_blank" rel="noopener" href="https://drafts.csswg.org/css-color-adjust-1/"> CSS Color Adjustment Module Level 1</a><br>    微信开放文档：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/DarkMode.html">DarkMode 适配指南</a></p>
<h2 id="2-通过-CSS-媒体查询"><a href="#2-通过-CSS-媒体查询" class="headerlink" title="2.通过 CSS 媒体查询"></a>2.通过 CSS 媒体查询</h2><p>prefers-color-scheme CSS 媒体特性用于检测用户是否有将系统的主题色设置为亮色或者暗色。</p>
<p>no-preference<br>表示系统未得知用户在这方面的选项。在布尔值上下文中，其执行结果为 false。</p>
<p>light<br>表示用户已告知系统他们选择使用浅色主题的界面。</p>
<p>dark<br>表示用户已告知系统他们选择使用暗色主题的界面。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">    color-scheme: light dark;</span><br><span class="line">    background: white;</span><br><span class="line">    color: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media (prefers-color-scheme: dark) &#123;</span><br><span class="line">    :root &#123;</span><br><span class="line">        background: black;</span><br><span class="line">        color: white;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>颜色较多的情况，建议使用CSS变量对颜色值进行管理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">    color-scheme: light dark;</span><br><span class="line">    --nav-bg-color: <span class="comment">#F7F7F7;</span></span><br><span class="line">    --content-bg-color: <span class="comment">#FFFFFF;</span></span><br><span class="line">    --font-color: rgba(0,0,0,.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media (prefers-color-scheme: dark) &#123;</span><br><span class="line">    :root &#123;</span><br><span class="line">        --nav-bg-color: <span class="comment">#2F2F2F;</span></span><br><span class="line">        --content-bg-color: <span class="comment">#2C2C2C;</span></span><br><span class="line">        --font-color: rgba(255, 255, 255, .8);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">:root &#123;</span><br><span class="line">    color: var(--font-color)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.header &#123;</span><br><span class="line">    background-color: var(--nav-bg-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content &#123;</span><br><span class="line">    background-color: var(--content-bg-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-图片适配"><a href="#3-图片适配" class="headerlink" title="3.图片适配"></a>3.图片适配</h2><p>利用picture+source标签，设置不同模式下的图片 url。</p>
<p>HTML <picture>元素通过包含零或多个 <source> 元素和一个 <img> 元素来为不同的显示/设备场景提供图像版本。浏览器会选择最匹配的子 <source> 元素，如果没有匹配的，就选择 <img> 元素的 src 属性中的URL。然后，所选图像呈现在<img>元素占据的空间中。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;picture&gt;</span><br><span class="line">    &lt;!-- 深色模式下的图片 --&gt;</span><br><span class="line">    &lt;<span class="built_in">source</span> srcset=<span class="string">&quot;dark.jpg&quot;</span> media=<span class="string">&quot;(prefers-color-scheme: dark)&quot;</span> /&gt;</span><br><span class="line">    &lt;!-- 默认模式下的图片 --&gt;</span><br><span class="line">    &lt;img src=<span class="string">&quot;light.jpg&quot;</span>/&gt;</span><br><span class="line">&lt;/picture&gt;</span><br></pre></td></tr></table></figure>
<h2 id="4-JavaScript中判断当前模式-amp-监听模式变化"><a href="#4-JavaScript中判断当前模式-amp-监听模式变化" class="headerlink" title="4. JavaScript中判断当前模式&amp;监听模式变化"></a>4. JavaScript中判断当前模式&amp;监听模式变化</h2><h3 id="4-1-matchMedia"><a href="#4-1-matchMedia" class="headerlink" title="4.1 matchMedia"></a>4.1 matchMedia</h3><p>Window 的matchMedia() 方法返回一个新的MediaQueryList 对象，表示指定的媒体查询 (en-US)字符串解析后的结果。返回的MediaQueryList 可被用于判定Document是否匹配媒体查询，或者监控一个document 来判定它匹配了或者停止匹配了此媒体查询。</p>
<h3 id="4-2-addListener"><a href="#4-2-addListener" class="headerlink" title="4.2 addListener()"></a>4.2 addListener()</h3><p>MediaQueryList接口的addListener()方法向MediaQueryListener添加一个侦听器，该侦听器将运行自定义回调函数以响应媒体查询状态的更改。</p>
<p>具体用法参考以下例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const mediaQuery = window.matchMedia(<span class="string">&#x27;(prefers-color-scheme: dark)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">darkModeHandler</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> (mediaQuery.matches) &#123;</span><br><span class="line">        console.log(<span class="string">&#x27;现在是深色模式&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        console.log(<span class="string">&#x27;现在是浅色模式&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 判断当前模式</span><br><span class="line">darkModeHandler()</span><br><span class="line">// 监听模式变化</span><br><span class="line">mediaQuery.addListener(darkModeHandler)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2021/04/02/QR-code-plug-in/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/02/QR-code-plug-in/" class="post-title-link" itemprop="url">分享一个生成二维码的插件–QRCode.js</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-02 14:07:06" itemprop="dateCreated datePublished" datetime="2021-04-02T14:07:06+08:00">2021-04-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-13 10:15:29" itemprop="dateModified" datetime="2021-07-13T10:15:29+08:00">2021-07-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>随着移动设备的普及，日常生活中随处可见二维码，大有一码走天下之势。那么前端如何来生成二维码？</p>
<p>通过QRCode.js我们可以快速生成二维码啦，一起来看看怎么使用吧。</p>
<h3 id="1、引入插件"><a href="#1、引入插件" class="headerlink" title="1、引入插件"></a>1、引入插件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*html*/</span><br><span class="line">&lt;div id=<span class="string">&quot;qrcode&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">/*js*/</span><br><span class="line">&lt;script src=<span class="string">&quot;qrcode.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2、基本用法"><a href="#2、基本用法" class="headerlink" title="2、基本用法"></a>2、基本用法</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var qrcode = document.getElementById(<span class="string">&#x27;qrcode&#x27;</span>)</span><br><span class="line"></span><br><span class="line">/*直接生成二维码*/</span><br><span class="line">new QRCode(qrcode, <span class="string">&#x27;http://www.w3cbest.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line">/*也可以配置二维码的宽高等*/</span><br><span class="line">var qrcodeObj = new QRCode(<span class="string">&#x27;qrcode&#x27;</span>, &#123;</span><br><span class="line">    text: <span class="string">&#x27;http://www.w3cbest.com&#x27;</span>,</span><br><span class="line">    width: 256,</span><br><span class="line">    height: 256,</span><br><span class="line">    colorDark : <span class="string">&#x27;#000000&#x27;</span>, //前景色</span><br><span class="line">    colorLight : <span class="string">&#x27;#ffffff&#x27;</span>  //背景色</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="3、API"><a href="#3、API" class="headerlink" title="3、API"></a>3、API</h3><p>设置二维码内容–makeCode</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qrcodeObj.makeCode(<span class="string">&#x27;http://www.w3cbest.com/?p=6518&amp;preview=true&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>清除二维码–clear</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qrcodeObj.clear()</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2020/04/21/%E4%BD%BF%E7%94%A8%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AESCSS%E7%BC%96%E8%AF%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/%E4%BD%BF%E7%94%A8%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AESCSS%E7%BC%96%E8%AF%91/" class="post-title-link" itemprop="url">使用微信开发工具配置SCSS编译</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-21 00:00:00" itemprop="dateCreated datePublished" datetime="2020-04-21T00:00:00+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 10:12:41" itemprop="dateModified" datetime="2021-08-30T10:12:41+08:00">2021-08-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>使用微信开发工具手写css真的每次都很浪费时间；现在终于可以用scss在微信开发者工具上自编译出wxss了</p>
<h3 id="主要配置流程如下"><a href="#主要配置流程如下" class="headerlink" title="主要配置流程如下"></a>主要配置流程如下</h3><p>1，下载EasySass插件复制到微信开发者工具，可以在vscode扩展里面找，然后安装，安装后可以在C盘 <code>用户目录/.vscode/extensions</code> 找到下载的扩展包</p>
<p>2，打开微信开发工具 找到菜单栏 <code>设置 &gt; 扩展设置 &gt; 拓展 &gt; 编辑器自定义扩展 </code>打开扩展文件夹， 将vscode安装的扩展包复制到这里，然后重启微信开发工具，然后找到菜单栏 <code>设置 &gt; 扩展设置 &gt; 拓展 &gt; 编辑器自定义扩展</code> 就能看到扩展文件，点击开启</p>
<img src="http://file.w3cbest.com/file/images/20210421105100.png">

<img src="http://file.w3cbest.com/file/images/20210421105148.png">

<p>3，配置编辑器，找到菜单栏 <code>设置 &gt; 扩展设置 &gt; 编辑器 &gt; 更多及工作区设置</code> 进入设置页面，点击扩展 找到 <code>EasySass configuration</code> 看到 <code>formats</code> 在 <code>setting.json</code> 中编辑进入后就会看到生成的配置信息，将.css改为.wxss,如果不想要压缩版可删除</p>
<img src="http://file.w3cbest.com/file/images/20210421105431.png">

<img src="http://file.w3cbest.com/file/images/20210421105501.png">

<img src="http://file.w3cbest.com/file/images/20210421105528.png">

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;easysass.formats&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">    &quot;format&quot;: &quot;expanded&quot;,</span><br><span class="line">    &quot;extension&quot;: &quot;.css&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">    &quot;format&quot;: &quot;compressed&quot;,</span><br><span class="line">    &quot;extension&quot;: &quot;.min.css&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>改为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;easysass.formats&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">    &quot;format&quot;: &quot;expanded&quot;,</span><br><span class="line">    &quot;extension&quot;: &quot;.wxss&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2020/03/13/%E8%BF%996%E4%B8%AA%E5%BC%BA%E5%A4%A7%E7%9A%84css%E9%80%89%E6%8B%A9%E5%99%A8%E5%AD%A6%E4%BC%9A%EF%BC%8C%E5%B0%86%E7%9C%9F%E6%AD%A3%E5%B8%AE%E4%BD%A0%E5%86%99%E5%87%BA%E5%B9%B2%E5%87%80%E7%9A%84css/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/13/%E8%BF%996%E4%B8%AA%E5%BC%BA%E5%A4%A7%E7%9A%84css%E9%80%89%E6%8B%A9%E5%99%A8%E5%AD%A6%E4%BC%9A%EF%BC%8C%E5%B0%86%E7%9C%9F%E6%AD%A3%E5%B8%AE%E4%BD%A0%E5%86%99%E5%87%BA%E5%B9%B2%E5%87%80%E7%9A%84css/" class="post-title-link" itemprop="url">这6个强大的CSS选择器学会，将真正帮你写出干净的CSS代码！</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-13 13:00:43" itemprop="dateCreated datePublished" datetime="2020-03-13T13:00:43+08:00">2020-03-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 10:43:27" itemprop="dateModified" datetime="2021-08-30T10:43:27+08:00">2021-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HTML-CSS/" itemprop="url" rel="index"><span itemprop="name">HTML/CSS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>CSS中的选择器用于选择元素并设置其样式。在我们使用其中一个之后，它们可能会非常强大。在本文中，我将引导您通过6个功能强大的CSS选择器，这些选择器将真正帮助您在下一个项目中编写干净的CSS。</p>
<h3 id="1-div-gt-a"><a href="#1-div-gt-a" class="headerlink" title="1. div &gt;a"></a>1. div &gt;a</h3><p>这个选择器将使我们能够选择所有父元素是div标签的元素。</p>
<!-- This one will be selected --> 
<div>
<a></a>
</div>

<!-- This one won't be selected -->
<p>
<a></a>
</p>

<h3 id="2-div-a"><a href="#2-div-a" class="headerlink" title="2. div +a"></a>2. div +a</h3><p>选择紧接在div元素之后的每个标签。如果我们在div和a标签之间有一个元素，则不会选择该元素。</p>
<main>
<!-- This one will be selected -->
<div></div>
<a></a>
<!-- This one won't be selected -->
<div></div>
<p></p>
<a></a>
</main>

<h3 id="3-div-a"><a href="#3-div-a" class="headerlink" title="3. div ~a"></a>3. div ~a</h3><p>a标签将选择每个标签，然后在同一级别上添加div标签。换句话说，如果a标签不是紧跟在div标签之后，而是具有div标签作为同级元素，则将选择该标签。</p>
<main>
<!-- This one will be selected -->
<div></div>
<a></a>
<!-- This one will be selected -->
<div></div>
<p></p>
<a></a>
<section>
<!-- This one will be selected -->
<div></div>
<p></p>
<a></a>
</section>


<footer>
<!-- This one won't be selected -->
<p></p>
<a></a>
</footer>
</main>

<h4 id="4-属性-值"><a href="#4-属性-值" class="headerlink" title="4. [属性^=值]"></a>4. [属性^=值]</h4><p>例如：[class ^ =“ list-”]此选择器将选择每个包含class属性且其值以list-开头的元素。</p>
<main>
<!-- This one will be selected -->
<div class="list-element"></div>
<!-- This one will be selected -->
<div class="list-container"></div>
<!-- This one will be selected -->
<div class="list-item"></div>
<!-- This one won't be selected -->
<div class="list\_\_footer"></div>
</main>

<h3 id="5-属性-值"><a href="#5-属性-值" class="headerlink" title="5. [属性$=值]"></a>5. [属性$=值]</h3><p>例如：[src $ =“.png”]这将选择每个值以.png结尾的src属性。</p>
<div>
<!-- This one will be selected -->
<img src="image1.png">
<!-- This one will be not selected -->
<img src="image2.jpg">
<!-- This one will be selected -->
<img src="image3.png">
<!-- This one won't be selected -->
<img src="image4.svg">
</div>

<h3 id="6-属性-值"><a href="#6-属性-值" class="headerlink" title="6. [属性*=值]"></a>6. [属性*=值]</h3><p>例如：[class * =“-list”]此选择器将选择其class属性包含-list的每个元素。 不管-list是在类值的开头，中间还是结尾都没有关系。最重要的是该值必须包含-list。</p>
<main>
<!-- This one will be selected -->
<div class="main-list-container"></div>
<!-- This one will be selected -->
<div class="primary-list"></div>
<!-- This one will be selected -->
<div class="primary-list-item"></div>
<!-- This one won't be selected -->
<div class="list-footer"></div>
</main>

<p>结论 有时候，很难找到所需样式的元素，这是因为我们对CSS选择器不够熟悉，而导致被滥用。在实际应用中，这些选择器可能是非常有用。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2020/03/13/15%E4%B8%AA%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84javascript%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/13/15%E4%B8%AA%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84javascript%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">15个必须知道的JavaScript数组方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-13 10:46:32" itemprop="dateCreated datePublished" datetime="2020-03-13T10:46:32+08:00">2020-03-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 10:43:27" itemprop="dateModified" datetime="2021-08-30T10:43:27+08:00">2021-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在JavaScript中，数组是一个特殊的变量，用于存储不同的元素。它具有一些内置属性和方法，可用于根据需要添加，删除，迭代或操作数。并且了解JavaScript数组方法可以提升你的开发技能。 在本文中，我们将介绍15种关于JavaScript的数组方法，这些方法可以帮助你正确地处理数据。 1.some() 2. reduce() 3. Every() 4. map() 5. flat() 6. filter() 7. forEach() 8. findIndex() 9. find() 10. sort() 11. concat() 12. fill() 13. includes() 14. reverse() 15. flatMap() 注意，大多数情况下，我们将简化作为参数传递的函数。</p>
<p>// Instead of using this way<br>myAwesomeArray.some(test =&gt; {<br>if (test === “d”) {<br>return test<br>}<br>})<br>// We’ll use the shorter one<br>myAwesomeArray.some(test =&gt; test === “d”)</p>
<h3 id="1、some"><a href="#1、some" class="headerlink" title="1、some()"></a>1、some()</h3><p>此方法为参数传递的函数测试数组。如果有一个元素与测试元素匹配，则返回true，否则返回false。 译者注： some() 不会对空数组进行检测；some() 不会改变原始数组。</p>
<p>const myAwesomeArray = [“a”, “b”, “c”, “d”, “e”];</p>
<p>myAwesomeArray.some(test =&gt; test === “d”)<br>//——-&gt; Output : true</p>
<h3 id="2、reduce"><a href="#2、reduce" class="headerlink" title="2、reduce()"></a>2、reduce()</h3><p>此方法接收一个函数作为累加器。它为数组中的每个元素依次执行回调函数，不包括数组中被删除或者从未被赋值的元素。函数应用于累加器，数组中的每个值最后只返回一个值。 译者注：reduce() 方法接受四个参数：初始值（上一次回调的返回值），当前元素值，当前索引，原数组。</p>
<p>const myAwesomeArray = [1, 2, 3, 4, 5]<br>myAwesomeArray.reduce((total, value) =&gt; total * value)<br>// 1 * 2 * 3 * 4 * 5<br>//——-&gt; Output = 120</p>
<h3 id="3、Every"><a href="#3、Every" class="headerlink" title="3、Every()"></a>3、Every()</h3><p>此方法是对数组中每项运行给定函数，如果数组的每个元素都与测试匹配，则返回true，反之则返回false。</p>
<p>const myAwesomeArray = [“a”, “b”, “c”, “d”, “e”]</p>
<p>myAwesomeArray.every(test =&gt; test === “d”)<br>// ——-&gt; Output : false</p>
<p>const myAwesomeArray2 = [“a”, “a”, “a”, “a”, “a”]</p>
<p>myAwesomeArray2.every(test =&gt; test === “a”)</p>
<p>//——-&gt; Output : true</p>
<h3 id="4、map"><a href="#4、map" class="headerlink" title="4、map()"></a>4、map()</h3><p>该方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。它按照原始数组元素顺序依次处理元素。 译者注：map() 不会对空数组进行检测；map() 不会改变原始数组。</p>
<p>const myAwesomeArray = [5, 4, 3, 2, 1]</p>
<p>myAwesomeArray.map(x =&gt; x * x)</p>
<p>//——-&gt; Output : 25<br>// 16<br>// 9<br>// 4<br>// 1</p>
<h3 id="5、flat"><a href="#5、flat" class="headerlink" title="5、flat()"></a>5、flat()</h3><p>此方法创建一个新数组，其中包含子数组上的holden元素，并将其平整到新数组中。请注意，此方法只能进行一个级别的深度。</p>
<p>const myAwesomeArray = [[1, 2], [3, 4], 5]<br>myAwesomeArray.flat()<br>//——-&gt; Output : [1, 2, 3, 4, 5]</p>
<h3 id="6、filter"><a href="#6、filter" class="headerlink" title="6、filter()"></a>6、filter()</h3><p>该方法接收一个函数作为参数。并返回一个新数组，该数组包含该数组的所有元素，作为参数传递的过滤函数对其返回true。 译者注：filter()方法是对数据中的元素进行过滤，也就是说是不能修改原数组中的数据，只能读取原数组中的数据，callback需要返回布尔值；为true的时候，对应的元素留下来；为false的时候，对应的元素过滤掉。</p>
<p>const myAwesomeArray = [<br>{ id: 1, name: “john” },<br>{ id: 2, name: “Ali” },<br>{ id: 3, name: “Mass” },<br>{ id: 4, name: “Mass” }<br>]</p>
<p>myAwesomeArray.filter(element =&gt; element.name === “Mass”)<br>//——-&gt; Output : 0:{id: 3, name: “Mass”},<br>// 1:{id: 4, name: “Mass”}</p>
<h3 id="7、forEach"><a href="#7、forEach" class="headerlink" title="7、forEach()"></a>7、forEach()</h3><p>此方法用于调用数组的每个元素。并将元素传递给回调函数。 译者注: forEach() 对于空数组是不会执行回调函数的。</p>
<p>const myAwesomeArray = [<br>{ id: 1, name: “john” },<br>{ id: 2, name: “Ali” },<br>{ id: 3, name: “Mass” }<br>]</p>
<p>myAwesomeArray.forEach(element =&gt; console.log(element.name))<br>//——-&gt; Output : john<br>// Ali<br>// Mass</p>
<h3 id="8、-findIndex"><a href="#8、-findIndex" class="headerlink" title="8、 findIndex()"></a>8、 findIndex()</h3><p>此方法返回传入一个测试条件（函数）符合条件的数组第一个元素位置。它为数组中的每个元素都调用一次函数执行，当数组中的元素在测试条件时返回 true 时, findIndex() 返回符合条件的元素的索引位置，之后的值不会再调用执行函数。如果没有符合条件的元素返回 -1 译者注：findIndex() 对于空数组，函数是不会执行的， findIndex() 并没有改变数组的原始值。</p>
<p>const myAwesomeArray = [<br>{ id: 1, name: “john” },<br>{ id: 2, name: “Ali” },<br>{ id: 3, name: “Mass” }<br>]</p>
<p>myAwesomeArray.findIndex(element =&gt; element.id === 3)<br>// ——-&gt; Output : 2</p>
<p>myAwesomeArray.findIndex(element =&gt; element.id === 7)<br>//——-&gt; Output : -1</p>
<h3 id="9、-find"><a href="#9、-find" class="headerlink" title="9、 find()"></a>9、 find()</h3><p>此方法返回通过测试（函数内判断）的数组的第一个元素的值。find() 方法为数组中的每个元素都调用一次函数执行：当数组中的元素在测试条件时回 true 时, find() 返回符合条件的元素，之后的值不会再调用执行函数。如果没有符合条件的元素返回 undefined。 译者注: find() 对于空数组，函数是不会执行的；find() 并没有改变数组的原始值。</p>
<p>const myAwesomeArray = [<br>{ id: 1, name: “john” },<br>{ id: 2, name: “Ali” },<br>{ id: 3, name: “Mass” }<br>]<br>myAwesomeArray.find(element =&gt; element.id === 3)<br>// ——-&gt; Output : {id: 3, name: “Mass”}</p>
<p>myAwesomeArray.find(element =&gt; element.id === 7)<br>//——-&gt; Output : undefined</p>
<h3 id="10、-sort"><a href="#10、-sort" class="headerlink" title="10、 sort()"></a>10、 sort()</h3><p>此方法接收一个函数作为参数。它对数组的元素进行排序并返回它。也可以使用含有参数的sort()方法进行排序。</p>
<p>const myAwesomeArray = [5, 4, 3, 2, 1]</p>
<p>// Sort from smallest to largest<br>myAwesomeArray.sort((a, b) =&gt; a - b)<br>// ——-&gt; Output : [1, 2, 3, 4, 5]</p>
<p>// Sort from largest to smallest<br>myAwesomeArray.sort((a, b) =&gt; b - a)<br>//——-&gt; Output : [5, 4, 3, 2, 1]</p>
<h3 id="11、-concat"><a href="#11、-concat" class="headerlink" title="11、 concat()"></a>11、 concat()</h3><p>此方法用于连接两个或多个数组/值，它不会改变现有的数组。而仅仅返回被连接数组的一个新数组。</p>
<p>const myAwesomeArray = [1, 2, 3, 4, 5]<br>const myAwesomeArray2 = [10, 20, 30, 40, 50]<br>myAwesomeArray.concat(myAwesomeArray2)<br>//——-&gt; Output : [1, 2, 3, 4, 5, 10, 20, 30, 40, 50]</p>
<h3 id="12、-fill"><a href="#12、-fill" class="headerlink" title="12、 fill()"></a>12、 fill()</h3><p>此方法的作用是使用一个固定值来替换数组中的元素。该固定值可以是字母、数字、字符串、数组等等。它还有两个可选参数，表示填充起来的开始位置（默认为0）与结束位置（默认为array.length）。 译者注：fill() 方法用于将一个固定值替换数组的元素。</p>
<p>const myAwesomeArray = [1, 2, 3, 4, 5]</p>
<p>// The first argument (0) is the value<br>// The second argument (1) is the starting index<br>// The third argument (3) is the ending index</p>
<p>myAwesomeArray.fill(0, 1, 3)<br>//——-&gt; Output : [1, 0, 0, 4, 5]</p>
<h3 id="13、-includes"><a href="#13、-includes" class="headerlink" title="13、 includes()"></a>13、 includes()</h3><p>此方法用于判断字符串是否包含指定的子字符串。如果找到匹配的字符串则返回 true，否则返回 false。 译者注：includes() 方法区分大小写。</p>
<p>const myAwesomeArray = [1, 2, 3, 4, 5]</p>
<p>myAwesomeArray.includes(3)<br>// ——-&gt; Output : true</p>
<p>myAwesomeArray.includes(8)<br>// ——-&gt; Output : false</p>
<h3 id="14、-reverse"><a href="#14、-reverse" class="headerlink" title="14、 reverse()"></a>14、 reverse()</h3><p>此方法用于颠倒数组中元素的顺序。第一个元素成为最后一个，最后一个元素将成为第一个。</p>
<p>const myAwesomeArray = [“e”, “d”, “c”, “b”, “a”]<br>myAwesomeArray.reverse()<br>// ——-&gt; Output : [‘a’, ‘b’, ‘c’, ‘d’, ‘e’]</p>
<h3 id="15、-flatMap"><a href="#15、-flatMap" class="headerlink" title="15、 flatMap()"></a>15、 flatMap()</h3><p>该方法将函数应用于数组的每个元素，然后将结果压缩为一个新数组。它在一个函数中结合了flat()和map()。</p>
<p>const myAwesomeArray = [[1], [2], [3], [4], [5]]</p>
<p>myAwesomeArray.flatMap(arr =&gt; arr * 10)<br>//——-&gt; Output : [10, 20, 30, 40, 50]<br>// With .flat() and .map()</p>
<p>myAwesomeArray.flat().map(arr =&gt; arr * 10)<br>//——-&gt; Output : [10, 20, 30, 40, 50]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2019/11/18/%E4%BD%BF%E7%94%A8css-grid%E8%BD%BB%E6%9D%BE%E6%90%9E%E5%AE%9A%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/18/%E4%BD%BF%E7%94%A8css-grid%E8%BD%BB%E6%9D%BE%E6%90%9E%E5%AE%9A%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/" class="post-title-link" itemprop="url">使用CSS Grid轻松搞定响应式布局</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-18 10:13:51" itemprop="dateCreated datePublished" datetime="2019-11-18T10:13:51+08:00">2019-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 11:04:13" itemprop="dateModified" datetime="2021-08-30T11:04:13+08:00">2021-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HTML-CSS/" itemprop="url" rel="index"><span itemprop="name">HTML/CSS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在这篇文章中，我将教你如何使用 CSS Grid 来创建一个超酷的图像网格图，它将根据屏幕的宽度来改变列的数量。最精彩的地方在于：所有的响应特性被添加到了一行 css 代码中。这意味着我们不必将 HTML 与丑陋的类名(如col-sm-4, col-md-8)混杂在一起，也不必为每个屏幕创建媒体查询。ok，让我们发车吧。</p>
<h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><p>在本文中，我将继续使用我在第一篇 <a target="_blank" rel="noopener" href="https://www.freecodecamp.org/news/learn-css-grid-in-5-minutes-f582e87b1228/">CSS Grid 布局教程文章</a>中的网格布局。然后，我们将在文章末尾添加图片。下面是我们初始化网格的外观： <img src="http://file.w3cbest.com/file/images/1_fJNIdDiScjhI9CZjdxv3Eg.png"> HTML 代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">  &lt;div&gt;1&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div&gt;2&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div&gt;3&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div&gt;4&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div&gt;5&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div&gt;6&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>CSS 代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">display: grid;</span><br><span class="line">grid-template-columns: 100px 100px 100px;</span><br><span class="line">grid-template-rows: 50px 50px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意: 示例中有一些基础的样式，但我在这里没有写出来，因为这对 CSS 网格布局没有任何影响 如果这段代码让你感到困惑，我建议你去好好读下我的这篇文章<a target="_blank" rel="noopener" href="https://www.freecodecamp.org/news/learn-css-grid-in-5-minutes-f582e87b1228/">Learn CSS Grid in 5 minutes</a>，其中就详细的解释了布局的基础知识。 让我们让列开始具有自适应特性吧。 基础响应单位: fraction CSS 栅格布局带来了一个全新的值:fraction单位，fraction单位通常简写为fr，它允许你根据需要将容器拆分为多个块。 让我们将每一列更改为一个 fraction 单位宽:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">display: grid;</span><br><span class="line">grid-template-columns: 1fr 1fr 1fr;</span><br><span class="line">grid-template-rows: 50px 50px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结果是栅格布局将会把整个宽度分成三个 fraction，每列占据一个 fraction 单位，效果如下： <img src="http://file.w3cbest.com/file/images/1_JgGPqT2AfFNDD8DhG2wPdQ.gif"> 如果我们将grid-template-columns的值更改为1fr 2fr 1fr，第二列的宽度将会是其它两列的两倍。总宽现在是四个 fraction 单位，第二列占据两个 fraction 单位，其它列各占一个 fraction。效果如下： <img src="http://file.w3cbest.com/file/images/1_cpfokc1HBgCwOTNhRU9SHg.gif"> 总的来说，fraction 单位值将使你可以很容易的更改列的宽度。 高级响应 然而，上面列子并没有给出我们想要的响应性，因为网格总是三列宽。我们希望网格能根据容器的宽度改变列的数量。要做到这一点，你必须学习如下三个概念：</p>
<h2 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a>repeat()</h2><p>首先我们学习repeat()函数。这是一个强大的指定列和行的方法。让我们使用repeat()函数来更改网格:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: repeat(3, 100px);</span><br><span class="line">  grid-template-rows: repeat(2, 50px);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>在上面代码中，repeat(3, 100px)等于100px 100px 100px。第一个参数指定行与列的数量，第二个参数指定它们的宽度，因此它将为我们提供与开始时完全相同的布局： <img src="http://file.w3cbest.com/file/images/1_fJNIdDiScjhI9CZjdxv3Eg.png"></p>
<h2 id="auto-fit"><a href="#auto-fit" class="headerlink" title="auto-fit"></a>auto-fit</h2><p>然后是auto-fit。让我们跳过固定数量的列，将3替换为自适应数量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">display: grid;</span><br><span class="line">grid-gap: 5px;</span><br><span class="line">grid-template-columns: repeat(auto-fit, 100px);</span><br><span class="line">grid-template-rows: repeat(2, 100px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>效果如下: <img src="http://file.w3cbest.com/file/images/v2-e9df20fc5a27960605959ba296042ffa_b.webp"> 现在，栅格将会根据容器的宽度调整其数量。它会尝试在容器中容纳尽可能多的 100px 宽的列。但如果我们将所有列硬写为 100px，我们将永远没法获得所需的弹性，因为它们很难填充整个宽度。正如你在上图看到的，网格通常在右侧留有空白。</p>
<h2 id="minmax"><a href="#minmax" class="headerlink" title="minmax()"></a>minmax()</h2><p>为了解决上述问题，我们需要minmax()。我们将 100px 替换为 minmax(100px, 1fr)，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">display: grid;</span><br><span class="line">grid-gap: 5px;</span><br><span class="line">grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));</span><br><span class="line">grid-template-rows: repeat(2, 100px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请注意，所有响应都发生在一行 css 代码中 效果如下： <img src="http://file.w3cbest.com/file/images/v2-4c968663383dbf14b08e22c45c1ddbd8_b.webp"> 正如你所见，效果完美。minmax()函数定义的范围大于或等于 min， 小于或等于 max。 因此，现在每列将至少为 100px。但如果有更多的可用空间，栅格布局将简单地将其均分给每列，因为这些列变成了 fraction 单位，而不是 100px。</p>
<h2 id="添加图片"><a href="#添加图片" class="headerlink" title="添加图片"></a>添加图片</h2><p>最后一步是添加图片。这与 <a target="_blank" rel="noopener" href="http://www.w3cbest.com/494.html">CSS Grid</a> 布局无关，但让我们看下代码。 我们在每个网格中添加一个图片标签：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&lt;img src&#x3D;&quot;img&#x2F;forest.jpg&quot;&#x2F;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>为了使图片适应于每个条目，我们将其宽、高设置为与条目本身一样，我们使用object-fit:cover。这将使图片覆盖它的整个容器，根据需要，浏览器将会对其进行裁剪。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.container &gt; div &gt; img &#123;</span><br><span class="line">width: 100%;</span><br><span class="line">height: 100%;</span><br><span class="line">object-fit: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下： <img src="http://file.w3cbest.com/file/images/v2-5589cdec01ac4734366b7d38ebac182a_b.webp"> ok！现在你已经了解了 <a target="_blank" rel="noopener" href="http://www.w3cbest.com/494.html">CSS Grid</a> 布局中最复杂的概念之一了，请给自己一个赞吧。</p>
<h2 id="浏览器兼容性"><a href="#浏览器兼容性" class="headerlink" title="浏览器兼容性"></a>浏览器兼容性</h2><p>在结束本文前，我提下浏览器支持情况，在撰写本文时，全球77%的网站将支持 CSS Grid，而且比例还在逐步攀升。 2018将是 CSS 网格布局的元年。它将获得突破，并成为前端开发者的必备技能，就像过去几年 <a target="_blank" rel="noopener" href="http://www.w3cbest.com/490.html">CSS Flexbox</a> 布局发生的情况一样。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2019/09/17/%E5%A6%82%E4%BD%95%E8%AE%A9%E4%BD%A0%E7%9A%84-js-%E5%86%99%E5%BE%97%E6%9B%B4%E6%BC%82%E4%BA%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/17/%E5%A6%82%E4%BD%95%E8%AE%A9%E4%BD%A0%E7%9A%84-js-%E5%86%99%E5%BE%97%E6%9B%B4%E6%BC%82%E4%BA%AE/" class="post-title-link" itemprop="url">如何让你的 JS 写得更漂亮</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-09-17 09:02:48" itemprop="dateCreated datePublished" datetime="2019-09-17T09:02:48+08:00">2019-09-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 11:13:35" itemprop="dateModified" datetime="2021-08-30T11:13:35+08:00">2021-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-按强类型风格写代码"><a href="#1-按强类型风格写代码" class="headerlink" title="1. 按强类型风格写代码"></a>1. 按强类型风格写代码</h2><p>JS是弱类型的，但是写代码的时候不能太随意，写得太随意也体现了编码风格不好。下面分点说明：</p>
<h3 id="（1）定义变量的时候要指明类型，告诉JS解释器这个变量是什么数据类型的，而不要让解释器去猜，例如不好的写法："><a href="#（1）定义变量的时候要指明类型，告诉JS解释器这个变量是什么数据类型的，而不要让解释器去猜，例如不好的写法：" class="headerlink" title="（1）定义变量的时候要指明类型，告诉JS解释器这个变量是什么数据类型的，而不要让解释器去猜，例如不好的写法："></a>（1）定义变量的时候要指明类型，告诉JS解释器这个变量是什么数据类型的，而不要让解释器去猜，例如不好的写法：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var num,</span><br><span class="line">    str,</span><br><span class="line">    obj;</span><br></pre></td></tr></table></figure>

<p>声明了三个变量，但其实没什么用，因为解释器不知道它们是什么类型的，好的写法应该是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var num &#x3D; 0,</span><br><span class="line">    str &#x3D; &#39;&#39;,</span><br><span class="line">    obj &#x3D; null;</span><br></pre></td></tr></table></figure>

<p>定义变量的时候就给他一个默认值，这样不仅方便了解释器，也方便了阅读代码的人，他会在心里有数——知道这些变量可能会当作什么用。</p>
<h3 id="（2）不要随意地改变变量的类型，例如下面代码："><a href="#（2）不要随意地改变变量的类型，例如下面代码：" class="headerlink" title="（2）不要随意地改变变量的类型，例如下面代码："></a>（2）不要随意地改变变量的类型，例如下面代码：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var num &#x3D; 5; </span><br><span class="line">    num &#x3D; &quot;-&quot; + num;</span><br></pre></td></tr></table></figure>
<p>第1行它是一个整型，第2行它变成了一个字符串。因为JS最终都会被解释成汇编的语言，汇编语言变量的类型肯定是要确定的，你把一个整型的改成了字符串，那解释器就得做一些额外的处理。并且这种编码风格是不提倡的，有一个变量第1行是一个整型，第10行变成了一个字符串，第20行又变成了一个object，这样就让阅读代码的人比较困惑，上面明明是一个整数，怎么突然又变成一个字符串了。好的写法应该是再定义一个字符串的变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var num &#x3D; 5;</span><br><span class="line">var sign &#x3D; &quot;-&quot; + num;</span><br></pre></td></tr></table></figure>

<h3 id="（3）函数的返回类型应该是要确定的，例如下面不确定的写法："><a href="#（3）函数的返回类型应该是要确定的，例如下面不确定的写法：" class="headerlink" title="（3）函数的返回类型应该是要确定的，例如下面不确定的写法："></a>（3）函数的返回类型应该是要确定的，例如下面不确定的写法：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function getPrice(count)&#123;</span><br><span class="line">    if(count &lt; 0) return &quot;&quot;;</span><br><span class="line">    else return count \* 100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>getPrice这个函数有可能返回一个整数，也有可能返回一个空的字符串。这样写也不太好，虽然它是符合JS语法的，但这种编码风格是不好的。使用你这个函数的人会有点无所适从，不敢直接进行加减乘除，因为如果返回字符串进行运算的话值就是NaN了。函数的返回类型应该是要确定的，如下面是返回整型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function getPrice(count)&#123;</span><br><span class="line">    if(count &lt; 0) return -1;</span><br><span class="line">    else return count \* 100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后告诉使用者，如果返回-1就表示不合法。如果类型确定，解释器也不用去做一些额外的工作，可以加快运行速度。</p>
<h2 id="2-减少作用域查找"><a href="#2-减少作用域查找" class="headerlink" title="2. 减少作用域查找"></a>2. 减少作用域查找</h2><h3 id="（1）不要让代码暴露在全局作用域下"><a href="#（1）不要让代码暴露在全局作用域下" class="headerlink" title="（1）不要让代码暴露在全局作用域下"></a>（1）不要让代码暴露在全局作用域下</h3><p>例如以下运行在全局作用域的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var map &#x3D; document.querySelector(&quot;#my-map&quot;);</span><br><span class="line">    map.style.height &#x3D; &quot;600px&quot;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>有时候你需要在页面直接写一个script，要注意在一个script标签里面，代码的上下文都是全局作用域的，由于全局作用域比较复杂，查找比较慢。例如上面的map变量，第二行在使用的时候，需要在全局作用域查找一下这个变量，假设map是在一个循环里面使用，那可能就会有效率问题了。所以应该要把它搞成一个局部的作用域：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">!function()&#123;</span><br><span class="line">    var map &#x3D; document.querySelector(&quot;#my-map&quot;);</span><br><span class="line">    map.style.height &#x3D; &quot;600px&quot;;</span><br><span class="line">&#125;()</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>上面用了一个function制造一个局部作用域，也可以用ES6的块级作用域。由于map这个变量直接在当前的局部作用域命中了，所以就不用再往上一级的作用域（这里是全局作用域）查找了，而局部作用域的查找是很快的。同时直接在全局作用域定义变量，会污染window对象。</p>
<h3 id="（2）不要滥用闭包"><a href="#（2）不要滥用闭包" class="headerlink" title="（2）不要滥用闭包"></a>（2）不要滥用闭包</h3><p>闭包的作用在于可以让子级作用域使用它父级作用域的变量，同时这些变量在不同的闭包是不可见的。这样就导致了在查找某个变量的时候，如果当前作用域找不到，就得往它的父级作用域查找，一级一级地往上直到找到了，或者到了全局作用域还没找到。因此如果闭包嵌套得越深，那么变量查找的时间就越长。如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function getResult(count)&#123;</span><br><span class="line">    count++;</span><br><span class="line">    function process()&#123;</span><br><span class="line">        var factor &#x3D; 2;</span><br><span class="line">        return count \* factor - 5;</span><br><span class="line">    &#125;</span><br><span class="line">    return process();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的代码定义了一个process函数，在这个函数里面count变量的查找时间要高于局部的factor变量。其实这里不太适合用闭包，可以直接把count传给process：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function getResult(count)&#123;</span><br><span class="line">    count++;</span><br><span class="line">    function process(count)&#123;</span><br><span class="line">        var factor &#x3D; 2;</span><br><span class="line">        return count \* factor - 5;</span><br><span class="line">    &#125;</span><br><span class="line">    return process(count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样count的查找时间就和factor一样，都是在当前作用域直接命中。这个就启示我们如果某个全局变量需要频繁地被使用的时候，可以用一个局部变量缓存一下，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var url &#x3D; &quot;&quot;;</span><br><span class="line">if(window.location.protocal &#x3D;&#x3D;&#x3D; &quot;https:&quot;)&#123;</span><br><span class="line">    url &#x3D; &quot;wss:&#x2F;&#x2F;xxx.com&quot; + window.location.pathname + window.location.search;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>频繁地使用了window.location对象，所以可以先把它缓存一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var url &#x3D; &quot;&quot;;</span><br><span class="line">var location &#x3D; window.location;</span><br><span class="line">if(location.protocal &#x3D;&#x3D;&#x3D; &quot;https:&quot;)&#123;</span><br><span class="line">    url &#x3D; &quot;wss:&#x2F;&#x2F;xxx.com&quot; + location.pathname + location.search;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>搞成了一个局变变量，这样查找就会明显快于全局的查找，代码也可以写少一点。</p>
<h2 id="3-避免-的使用"><a href="#3-避免-的使用" class="headerlink" title="3. 避免==的使用"></a>3. 避免==的使用</h2><p>这里你可能会有疑问了，有些人喜欢用==，有些人喜欢用===，大家的风格不一样，你为什么要强制别人用===呢？习惯用==的人，不能仅仅是因为==比===少敲了一次键盘。为什么不提倡用==呢？</p>
<h3 id="（1）如果你确定了变量的类型，那么就没必要使用-了，如下："><a href="#（1）如果你确定了变量的类型，那么就没必要使用-了，如下：" class="headerlink" title="（1）如果你确定了变量的类型，那么就没必要使用==了，如下："></a>（1）如果你确定了变量的类型，那么就没必要使用==了，如下：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(typeof num !&#x3D; &quot;undefined&quot;)&#123; &#125; </span><br><span class="line">var num &#x3D; parseInt(value);</span><br><span class="line">if(num &#x3D;&#x3D; 10)&#123; &#125;</span><br></pre></td></tr></table></figure>


<p>上面的两个例子都是确定类型的，一个是字符串，一个是整数。就没必要使用==了，直接用===就可以了。</p>
<h3 id="（2）如果类型不确定，那么应该手动做一下类型转换，而不是让别人或者以后的你去猜这里面有类型转换，如下："><a href="#（2）如果类型不确定，那么应该手动做一下类型转换，而不是让别人或者以后的你去猜这里面有类型转换，如下：" class="headerlink" title="（2）如果类型不确定，那么应该手动做一下类型转换，而不是让别人或者以后的你去猜这里面有类型转换，如下："></a>（2）如果类型不确定，那么应该手动做一下类型转换，而不是让别人或者以后的你去猜这里面有类型转换，如下：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var totalPage &#x3D; &quot;5&quot;;</span><br><span class="line">if(parseInt(totalPage) &#x3D;&#x3D;&#x3D; 1)&#123; &#125;</span><br></pre></td></tr></table></figure>

<h3 id="（3）使用-在JSLint检查的时候是不通过的："><a href="#（3）使用-在JSLint检查的时候是不通过的：" class="headerlink" title="（3）使用==在JSLint检查的时候是不通过的："></a>（3）使用==在JSLint检查的时候是不通过的：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if(a &#x3D;&#x3D; b)&#123; &#125;</span><br></pre></td></tr></table></figure>

<p>如下JSLint的输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Expected ‘&#x3D;&#x3D;&#x3D;’ and instead saw ‘&#x3D;&#x3D;’. </span><br><span class="line">if(a &#x3D;&#x3D; b)&#123; &#125;</span><br></pre></td></tr></table></figure>


<h3 id="（4）并且使用-可能会出现一些奇怪的现象，这些奇怪的现象可能会给代码埋入隐患："><a href="#（4）并且使用-可能会出现一些奇怪的现象，这些奇怪的现象可能会给代码埋入隐患：" class="headerlink" title="（4）并且使用==可能会出现一些奇怪的现象，这些奇怪的现象可能会给代码埋入隐患："></a>（4）并且使用==可能会出现一些奇怪的现象，这些奇怪的现象可能会给代码埋入隐患：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">null &#x3D;&#x3D; undefined        &#x2F;&#x2F;true</span><br><span class="line">&#39;&#39; &#x3D;&#x3D; &#39;0&#39;&#x2F;&#x2F;false</span><br><span class="line">0  &#x3D;&#x3D; &#39;&#39;&#x2F;&#x2F;true</span><br><span class="line">0  &#x3D;&#x3D; &#39;0&#39;&#x2F;&#x2F;true</span><br><span class="line">&#39;&#39; &#x3D;&#x3D; 0&#x2F;&#x2F;true</span><br><span class="line">new String(&quot;abc&quot;) &#x3D;&#x3D; &quot;abc&quot;                      &#x2F;&#x2F;true</span><br><span class="line">new Boolean(true) &#x3D;&#x3D; true                       &#x2F;&#x2F;true</span><br><span class="line">true &#x3D;&#x3D; 1&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p>上面的比较在用===的时候都是false，这样才是比较合理的。例如第一点null居然会等于undefined，就特别地奇怪，因为null和undefined是两个毫无关系的值，null应该是作为初始化空值使用，而undefined是用于检验某个变量是否未定义。 这和第1点介绍强类型的思想是相通的。</p>
<h2 id="4-合并表达式"><a href="#4-合并表达式" class="headerlink" title="4. 合并表达式"></a>4. 合并表达式</h2><p>如果用1句代码就可以实现5句代码的功能，那往往1句代码的执行效率会比较高，并且可读性可能会更好</p>
<h3 id="（1）用三目运算符取代简单的if-else"><a href="#（1）用三目运算符取代简单的if-else" class="headerlink" title="（1）用三目运算符取代简单的if-else"></a>（1）用三目运算符取代简单的if-else</h3><p>如上面的getPrice函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function getPrice(count)&#123;</span><br><span class="line">    if(count &lt; 0) return -1;</span><br><span class="line">    else return count \* 100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以改成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function getPrice(count)&#123;</span><br><span class="line">    return count &lt; 0 ? return -1 : count \* 100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个比写一个if-else看起来清爽多了。当然，如果你写了if-else，压缩工具也会帮你把它改三目运算符的形式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function getPrice(e)&#123;return 0&gt;e?-1:100\*e&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（2）连等"><a href="#（2）连等" class="headerlink" title="（2）连等"></a>（2）连等</h3><p>连等是利用赋值运算表达式会返回所赋的值，并且执行顺序是从右到左的，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">overtime &#x3D; favhouse &#x3D; listingDetail &#x3D; &#123;...&#125;</span><br></pre></td></tr></table></figure>

<p>有时候你会看到有人这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var age &#x3D; 0;</span><br><span class="line">if((age &#x3D; +form.age.value) &gt;&#x3D; 18)&#123;</span><br><span class="line">    console.log(&quot;你是成年人&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    consoe.log(&quot;小朋友，你还有&quot; + (18 - age) + &quot;就成年了&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也是利用了赋值表达式会返回一个值，在if里面赋值的同时用它的返回值做判断，然后else里面就已经有值了。上面的+号把字符串转成了整数。</p>
<h3 id="（3）自增"><a href="#（3）自增" class="headerlink" title="（3）自增"></a>（3）自增</h3><p>利用自增也可以简化代码。如下，每发出一条消息，localMsgId就自增1：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chatService.sendMessage(localMsgId++, msgContent);</span><br></pre></td></tr></table></figure>

<h2 id="5-减少魔数"><a href="#5-减少魔数" class="headerlink" title="5. 减少魔数"></a>5. 减少魔数</h2><p>例如，在某个文件的第800行，冒出来了一句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dialogHandler.showQuestionNaire（&quot;seller&quot;, &quot;sell&quot;, 5, true);</span><br></pre></td></tr></table></figure>

<p>就会让人很困惑了，上面的四个常量分别代表什么呢，如果我不去查一个那个函数的变量说明就不能够很快地意会到这些常量分别有什么用。这些意义不明的常量就叫“魔数”。 所以最好还是给这些常量取一个名字，特别是在一些比较关键的地方。例如上面的代码可改成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var naireType &#x3D; &quot;seller&quot;,</span><br><span class="line">dialogType &#x3D; &quot;sell&quot;,</span><br><span class="line">questionsCount &#x3D; 5,</span><br><span class="line">reloadWindow &#x3D; true;</span><br><span class="line"></span><br><span class="line">naireHandler.showNaire(naireType, dialogType, questionsCount, reloadWindow);</span><br></pre></td></tr></table></figure>

<p>这样意义就很明显了。</p>
<h2 id="6-使用ES6简化代码"><a href="#6-使用ES6简化代码" class="headerlink" title="6. 使用ES6简化代码"></a>6. 使用ES6简化代码</h2><p>ES6已经发展很多年了，兼容性也已经很好了。恰当地使用，可以让代码更加地简洁优雅。</p>
<h3 id="（1）使用箭头函数取代小函数"><a href="#（1）使用箭头函数取代小函数" class="headerlink" title="（1）使用箭头函数取代小函数"></a>（1）使用箭头函数取代小函数</h3><p>有很多使用小函数的场景，如果写个function，代码起码得写3行，但是用箭头函数一行就搞定了，例如实现数组从大到小排序：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var nums &#x3D; [4, 8, 1, 9, 0];</span><br><span class="line">nums.sort(function(a, b)&#123;</span><br><span class="line">    return b - a;</span><br><span class="line">&#125;);</span><br><span class="line">&#x2F;&#x2F;输出[9, 8, 4, 1, 0]</span><br></pre></td></tr></table></figure>

<p>如果用箭头函数，排序只要一行就搞定了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var nums &#x3D; [4, 8, 1, 9, 0];</span><br><span class="line"></span><br><span class="line">nums.sort(a, b &#x3D;&gt; b - a);</span><br></pre></td></tr></table></figure>

<p>代码看起来简洁多了，还有setTimeout里面经常会遇到只要执行一行代码就好了，写个function总感觉有点麻烦，用字符串的方式又不太好，所以这种情况用箭头函数也很方便：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(() &#x3D;&gt; console.log(&quot;hi&quot;), 3000)</span><br></pre></td></tr></table></figure>

<p>箭头函数在C++/Java等其它语言里面叫做Lambda表达式，Ruby比较早就有这种语法形式了，后来C++/Java也实现了这种语法。 当然箭头函数或者Lambda表达式不仅适用于这种一行的，多行代码也可以，不过在一行的时候它的优点才比较明显。</p>
<h3 id="（2）使用ES6的class"><a href="#（2）使用ES6的class" class="headerlink" title="（2）使用ES6的class"></a>（2）使用ES6的class</h3><p>虽然ES6的class和使用function的prototype本质上是一样的，都是用的原型。但是用class可以减少代码量，同时让代码看起来更加地高大上，使用function要写这么多：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function Person(name, age)&#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.addAge &#x3D; function()&#123;</span><br><span class="line">    this.age++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Person.prototype.setName &#x3D; function(name)&#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>使用class代码看加地简洁易懂：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    constructor(name, age)&#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line">    addAge()&#123;</span><br><span class="line">        this.age++;</span><br><span class="line">    &#125;</span><br><span class="line">    setName(name)&#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>并且class还可以很方便地实现继承、静态的成员函数，就不需要自己再去通过一些技巧去实现了。</p>
<h3 id="（3）字符串拼接"><a href="#（3）字符串拼接" class="headerlink" title="（3）字符串拼接"></a>（3）字符串拼接</h3><p>以前要用+号拼接：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var tpl &#x3D; </span><br><span class="line">    &#39;&lt;div&gt;&#39; + </span><br><span class="line">    &#39;    &lt;span&gt;1&lt;&#x2F;span&gt;&#39; +</span><br><span class="line">    &#39;&lt;&#x2F;div&gt;&#39;;</span><br></pre></td></tr></table></figure>

<p>现在只要用两个反引号“`”就可以了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var tpl &#x3D; </span><br><span class="line">    &#96;&lt;div&gt;</span><br><span class="line">        &lt;span&gt;1&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &#96;;</span><br></pre></td></tr></table></figure>

<p>另外反引号还支持占位替换，原本你需要：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var page &#x3D; 5,</span><br><span class="line">type &#x3D; encodeURIComponet(&quot;#js&quot;);</span><br><span class="line">var url &#x3D; &quot;&#x2F;list?page&#x3D;&quot; + page + &quot;&amp;type&#x3D;&quot; + type;</span><br></pre></td></tr></table></figure>

<p>现在只需要： <code>var url = `/list?page=$&#123;page&#125;&amp;type=$&#123;type&#125;`;</code> 就不用使用+号把字符串拆散了。</p>
<h3 id="（4）块级作用域变量"><a href="#（4）块级作用域变量" class="headerlink" title="（4）块级作用域变量"></a>（4）块级作用域变量</h3><p>块级作用域变量也是ES6的一个特色，下面的代码是一个任务队列的模型抽象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var tasks &#x3D; [];</span><br><span class="line">for(var i &#x3D; 0; i &lt; 4; i++)&#123;</span><br><span class="line">    tasks.push(function()&#123;</span><br><span class="line">        console.log(&quot;i is &quot; + i);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">for(var j &#x3D; 0; j &lt; tasks.length; j++)&#123;</span><br><span class="line">    tasks[j]();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是上面代码的执行输出是4，4，4，4，并且不是想要输出：0，1，2，3，所以每个task就不能取到它的index了，这是因为闭包都是用的同一个i变量，i已经变成4了，所以执行闭包的时候就都是4了。那怎么办呢？可以这样解决：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var tasks &#x3D; [];</span><br><span class="line">for(var i &#x3D; 0; i &lt; 4; i++)&#123;</span><br><span class="line">    !function(k)&#123;</span><br><span class="line">        tasks.push(function()&#123;</span><br><span class="line">            console.log(&quot;i is &quot; + k);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;(i);</span><br><span class="line">&#125;</span><br><span class="line">for(var j &#x3D; 0; j &lt; tasks.length; j++)&#123;</span><br><span class="line">    tasks[j]();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>把i赋值给了k，由于k它是一个function的一个参数，每次执行函数的时候，肯定会实例化新的k，所以每次的k都是不同的变量，这样就输出就正常了。 但是代码看起来有点别扭，如果用ES6，只要把var改成let就可以了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var tasks &#x3D; [];</span><br><span class="line">for(let i &#x3D; 0; i &lt;&#x3D; 4; i++)&#123;</span><br><span class="line">    tasks.push(function()&#123;</span><br><span class="line">        console.log(&quot;i is &quot; + i);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">for(var j &#x3D; 0; j &lt; tasks.length; j++)&#123;</span><br><span class="line">    tasks[j]();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>只改动了3个字符就达到了目的。因为for循环里面有个大括号，大括号就是一个独立的作用域，let定义的变量在独立的作用域里面它的值也是独立的。当然即使没写大括号for循环执行也是独立的。 除了以上几点，ES6还有其它一些比较好用的功能，如Object的assign，Promise等，也是可以帮助写出简洁高效的代码。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianzhiding.github.io/2019/09/04/js%E4%B8%AD%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9Fnull-%E6%98%AF%E5%AF%B9%E8%B1%A1%E5%90%97%EF%BC%9F%E5%8E%9F%E5%A7%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Tom">
      <meta itemprop="description" content="w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="前端开发 大前端 W3Cbest">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/04/js%E4%B8%AD%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9Fnull-%E6%98%AF%E5%AF%B9%E8%B1%A1%E5%90%97%EF%BC%9F%E5%8E%9F%E5%A7%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="post-title-link" itemprop="url">JS中原始类型有哪几种？null 是对象吗？原始数据类型和复杂数据类型有什么区别？</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-09-04 07:35:02" itemprop="dateCreated datePublished" datetime="2019-09-04T07:35:02+08:00">2019-09-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 10:43:27" itemprop="dateModified" datetime="2021-08-30T10:43:27+08:00">2021-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>目前，JS原始类型有六种，分别为:</p>
<ul>
<li>  Boolean</li>
<li>  String</li>
<li>  Number</li>
<li>  Undefined</li>
<li>  Null</li>
<li>  Symbol(ES6新增)</li>
<li>  ES10新增了一种基本数据类型：BigInt</li>
</ul>
<h2 id="复杂数据类型只有一种-Object"><a href="#复杂数据类型只有一种-Object" class="headerlink" title="复杂数据类型只有一种: Object"></a>复杂数据类型只有一种: Object</h2><p>null 不是一个对象，尽管 typeof null 输出的是 object，这是一个历史遗留问题，JS 的最初版本中使用的是 32 位系统，为了性能考虑使用低位存储变量的类型信息，000 开头代表是对象，null 表示为全零，所以将它错误的判断为 object 。 基本数据类型和复杂数据类型的区别为: 1、内存的分配不同</p>
<ul>
<li>  基本数据类型存储在栈中。</li>
<li>  复杂数据类型存储在堆中，栈中存储的变量，是指向堆中的引用地址。</li>
</ul>
<p>2、访问机制不同</p>
<ul>
<li>  基本数据类型是按值访问</li>
<li>  复杂数据类型按引用访问，JS不允许直接访问保存在堆内存中的对象，在访问一个对象时，首先得到的是这个对象在堆内存中的地址，然后再按照这个地址去获得这个对象中的值。</li>
</ul>
<p>3、复制变量时不同(a=b)</p>
<ul>
<li>  基本数据类型：a=b;是将b中保存的原始值的副本赋值给新变量a，a和b完全独立，互不影响</li>
<li>  复杂数据类型：a=b;将b保存的对象内存的引用地址赋值给了新变量a;a和b指向了同一个堆内存地址，其中一个值发生了改变，另一个也会改变。</li>
</ul>
<p>let b = {<br>age: 10<br>}</p>
<p>let a = b;<br>a.age = 20;<br>console.log(a); //{ age: 20 }</p>
<h2 id="参数传递的不同-实参-形参"><a href="#参数传递的不同-实参-形参" class="headerlink" title="参数传递的不同(实参/形参)"></a>参数传递的不同(实参/形参)</h2><p>函数传参都是按值传递(栈中的存储的内容)：基本数据类型，拷贝的是值；复杂数据类型，拷贝的是引用地址</p>
<p>//基本数据类型<br>let b = 10</p>
<p>function change(info) {<br>info=20;<br>}<br>//info=b;基本数据类型，拷贝的是值得副本，二者互不干扰<br>change(b);<br>console.log(b);//10<br>//复杂数据类型<br>let b = {<br>age: 10<br>}</p>
<p>function change(info) {<br>info.age = 20;<br>}<br>//info=b;根据第三条差异，可以看出，拷贝的是地址的引用，修改互相影响。<br>change(b);<br>console.log(b);//{ age: 20 }</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Tom</p>
  <div class="site-description" itemprop="description">w3cbest是一个专注前端开发、用户体验设计,提供大量最新前端前沿技术文章及资源。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">127</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">348</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">W3Cbest前端开发</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
